<!DOCTYPE html>
<html>
<head>
  <title>Indiainlast Color Game</title>
</head>
<body>
  <h1>Welcome to Indiainlast Color Game!</h1>
  <p>This is a test web version. Real game works in Python.</p>

  <div id="pointsDisplay" style="font-weight: bold; font-size: 18px; margin-bottom: 10px;">
    Points: <span id="points">100</span>
  </div>

  <!-- Player Panel -->
  <h2>Player Panel</h2>
  <label for="playerColor">Choose Color:</label>
  <select id="playerColor">
    <option value="red">Red</option>
    <option value="green">Green</option>
    <option value="violet">Violet</option>
  </select>
  <br><br>
  <label for="betAmount">Enter Bet Amount:</label>
  <input type="number" id="betAmount" value="10" min="1">
  <br><br>
  <button onclick="playGame()">Play</button>
  <p id="playerResult"></p>

  <h3>Last 5 Results:</h3>
  <ul id="matchHistory"></ul>

  <!-- Admin Panel -->
  <h2>Admin Panel</h2>
  <label for="adminColor">Set Result Color:</label>
  <select id="adminColor">
    <option value="red">Red</option>
    <option value="green">Green</option>
    <option value="violet">Violet</option>
  </select>
  <button onclick="setResult()">Set Result</button>
  <p id="adminStatus"></p>

  <script>
    let points = 100;
    let currentResult = "red";
    let history = [];

    function updatePointsDisplay() {
      document.getElementById("points").innerText = points;
    }

    function setResult() {
      const color = document.getElementById("adminColor").value;
      currentResult = color;
      document.getElementById("adminStatus").innerText = "Result set to: " + color;
    }

    function updateHistory() {
      history.unshift(currentResult);
      if (history.length > 5) history.pop();

      const list = document.getElementById("matchHistory");
      list.innerHTML = "";
      history.forEach((res, i) => {
        const li = document.createElement("li");
        li.innerText = res;
        li.style.color = res;
        list.appendChild(li);
      });
    }

    function playGame() {
      const playerColor = document.getElementById("playerColor").value;
      const bet = parseInt(document.getElementById("betAmount").value);

      if (isNaN(bet) || bet <= 0 || bet > points) {
        document.getElementById("playerResult").innerText = "Invalid bet amount!";
        return;
      }

      if (playerColor === currentResult) {
        points += bet;
        document.getElementById("playerResult").innerText = "You WON! +" + bet + " points.";
      } else {
        points -= bet;
        document.getElementById("playerResult").innerText = "You LOST! -" + bet + " points.";
      }

      updatePointsDisplay();
      updateHistory();
    }

    updatePointsDisplay();
  </script>
</body>
</html>
